"use strict";function checkGetUserMedia(){try{return window.navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.navigator.getUserMedia&&MediaRecorder?Promise.resolve():Promise.reject("getUserMedia not supported on your browser.")}catch(a){return Promise.reject("MediaRecorder not supported.")}}function getAudioStream(){return navigator.mediaDevices.getUserMedia({audio:!0,video:!1})}function getStream(){return checkGetUserMedia().then(getAudioStream)}function getMediaRecorder(a){var b=new MediaRecorder(a),c=["hello"];b.onstart=function(){c=[]},b.ondataavailable=function(a){console.log("Data is available!",a.data),c.push(a.data)};return{start:b.start.bind(b),stop:b.stop.bind(b),getBlob:function getBlob(){return new Promise(function(a){b.onstop=function(){console.log("Stop is triggered.");var b=new Blob(c,{type:"audio/webm"});a(b)}})}}}var recorder=function(){return getStream().then(getMediaRecorder)};